(function(){var n=JSON.stringify([{id:0,name:"Baixo"},{id:1,name:"Padr\u00e3o"},{id:2,name:"Moderado"},{id:3,name:"Urgente"}]);$("#financeType").find("select").simpleSelect2Json("http://localhost:5000/api/finances/financeTypes","id","name");$("#place").find("select").simpleSelect2Json("http://localhost:5000/api/finances/places","id","name");$("#level").simpleSelect2Json(n,"id","name")})();$(document).ready(function(){function t(n,t,r,u){return n.id||($("#financeType").find("span[class='text-danger']").text("Invalid!"),$("#financeType").parent().attr({"class":"form-group row has-error"})),t.id||($("#place").find("span[class='text-danger']").text("Invalid!"),$("#place").parent().attr({"class":"form-group row has-error"})),r||($("#date").find("span").text("Invalid!"),$("#date").parent().attr({"class":"form-group row has-error"})),u||($("#value").find("span").text("Invalid!"),$("#value").parent().attr({"class":"form-group row has-error"})),i(n,t,r,u)}function i(t,i,r,u){if(t.id&&i.id&&r&&u)return n&&n.attr({disabled:!1}),!0;n&&n.attr({disabled:!0})}var n;$("#createFinance").on("click",function(){var i={id:$("#financeType").find("select").val(),name:""},r={id:$("#place").find("select").val(),name:""},u=$("#value").find("input").val(),f=$("#date").find("input").val(),s=$("#level").val(),h=Number($("#status")[0].checked),c=$("#userId").val();if(n=$(this),t(i,r,f,u)){n.button("loading");var e="Create",o=JSON.stringify({financeType:i,place:r,value:u,date:f,level:s,status:h,userId:c});console.debug("POST ",e,": ",o);$.ajax({url:e,type:"POST",contentType:"application/json; charset=utf-8",data:o,success:function(t){n.button("reset");console.debug(t);t.code==0?($(".toast").text("Finan\u00e7a salva!").fadeIn(400).delay(2500).fadeOut(400),$("#financeType").find("select").val("0").trigger("change"),$("#place").find("select").val("0").trigger("change"),$("#value").find("input").val(""),$("#date").find("input").val(""),$("#level").val("0").trigger("change"),$("#status")[0].checked=!1):$(".toast").text(t.message).fadeIn(400).delay(2500).fadeOut(400)},error:function(t){n.button("reset");alert("Problema! Verifique sua conex\u00e3o com a internet e tente novamente.");console.log(t)}})}});$("#date").find("input").on("change",function(){$("#date").find("span").text("");$("#date").parent().attr({"class":"form-group row"});$("#value").find("input").val()&&n&&n.attr({disabled:!1})});$("#value").find("input").on("keyup",function(){$("#value").find("span").text("");$("#value").parent().attr({"class":"form-group row"});$("#date").find("input").val()&&n&&n.attr({disabled:!1})});$("#financeType").find("select").on("change",function(){$("#financeType").find("span[class='text-danger']").text("");$("#financeType").parent().attr({"class":"form-group row"});$("#place").find("select").val()&&n&&n.attr({disabled:!1})});$("#place").find("select").on("change",function(){$("#place").find("span[class='text-danger']").text("");$("#place").parent().attr({"class":"form-group row"});$("#financeType").find("select").val()&&n&&n.attr({disabled:!1})})});