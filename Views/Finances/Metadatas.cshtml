@model MyApp.Models.FinanceMetadata
@{
    ViewData["Title"] = "Finanças Metadatas";
}

<div class="row col-12">
    <div class="page-header">
        <h2>Tipos e Locais</h2>
        <br>
        <a href="/Finances" class="btn btn-default"><span class="glyphicon glyphicon-arrow-left"></span> Voltar</a>
    </div>
    

    <input type="hidden" id="userId" value="@Model.userId" />
    <div id="messages"></div>

    <div class="well col-sm-5">
        <strong>Tipos de Finanças</strong>
        <button type="button" class="btn btn-success btn-xs pull-right" data-toggle="modal" data-target="#modal" data-name="Tipo de Finança" data-type="FinanceType"><span class="glyphicon glyphicon-plus"></span> Novo Tipo de Finança</button>
        <table id="finance_type_table" class="table table-responsive table-striped table-hover">
            <thead>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            </thead>
            <tbody>
              @foreach(var f in @Model.financeTypes) {
                  <tr data-model-id="@f.id">
                      <td>@f.id</td>
                      <td class="text-info"><strong>@f.name</strong></td>
                      <td>
                          <a data-model-id="@f.id" data-toggle="modal" data-target="#delete_modal" data-name="@f.name" data-type="FinanceType" href="#"><span class="glyphicon glyphicon-trash text-danger"></span></a>
                      </td>
                  </tr>
              }
          </tbody>
        </table>
    </div>
    <div class="col-sm-1"></div>
    <div class="well col-sm-5">
        <strong>Lugares</strong>
        <button type="button" class="btn btn-success btn-xs pull-right" data-toggle="modal" data-target="#modal" data-name="Local"  data-type="Place"><span class="glyphicon glyphicon-plus"></span> Novo Local</button>
        <table id="place_table" class="table table-responsive table-striped table-hover">
            <thead>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            </thead>
          <tbody>
              @foreach(var p in @Model.places) {
                  <tr data-model-id="@p.id">
                      <td>@p.id</td>
                      <td class="text-info"><strong>@p.name</strong></td>
                      <td>
                          <a data-model-id="@p.id" data-toggle="modal" data-target="#delete_modal" data-name="@p.name" data-type="Place" href="#"><span class="glyphicon glyphicon-trash text-danger"></span></a>
                      </td>
                  </tr>
              }
          </tbody>
        </table>
    </div>
</div>

<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title"></h4>
      </div>
      <div class="modal-body">
        <form>
          <div class="form-group">
            <label for="modal_content" class="control-label">Descrição:</label>
            <input type="text" class="form-control" id="modal_content">
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Voltar</button>
        <button data-loading-text="Aguarde..." id="modal_confirm" type="button" class="btn btn-success"><span class="glyphicon glyphicon-floppy-disk"></span> Salvar</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="delete_modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Atenção meu querido</h4>
      </div>
      <div class="modal-body">
        <p></p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Voltar</button>
        <button data-loading-text="Aguarde..." id="confirm_delete" type="button" class="btn btn-danger"><span class="glyphicon glyphicon-remove"></span> Apagar</button>
      </div>
    </div>
  </div>
</div>

<environment names="Development">
    <script src="~/js/finance/finance.metadatas.js"></script>
</environment>
<environment names="Staging,Production">
    <script src="~/js/finance/finance.metadatas.min.js"
            asp-fallback-src="~/js/finance/finance.metadatas.js"
            asp-fallback-test="">
    </script>
</environment>
